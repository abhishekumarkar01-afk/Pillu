<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Heart for Palak üíñ</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Quicksand:wght@500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>

    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Quicksand', sans-serif;
            background: #ffafbd;
            height: 100vh;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* Animated Background */
        .bg {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(45deg, #ffafbd, #ffc3a0);
            z-index: -1;
        }

        /* Screen Management */
        .screen {
            display: none; /* All hidden by default */
            width: 90%;
            max-width: 400px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            padding: 30px;
            border-radius: 25px;
            text-align: center;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            animation: fadeIn 0.5s ease;
        }

        .active { display: block !important; }

        @keyframes fadeIn { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }

        h1 { font-family: 'Dancing Script', cursive; color: #ff4d6d; font-size: 2.5rem; margin-bottom: 15px; }
        p { color: #555; line-height: 1.6; margin-bottom: 20px; }

        input {
            width: 100%; padding: 12px; border-radius: 50px;
            border: 2px solid #ffccd5; margin-bottom: 15px;
            text-align: center; outline: none;
        }

        .btn {
            background: #ff4d6d; color: white; border: none;
            padding: 12px 25px; border-radius: 50px; font-weight: bold;
            cursor: pointer; width: 100%; transition: 0.3s;
        }

        /* Curtain Reveal */
        .curtain-container {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            display: none; z-index: 9999;
        }
        .curtain {
            position: absolute; width: 50%; height: 100%;
            background: #d42442; transition: 1.2s ease-in-out;
            display: flex; align-items: center; justify-content: center;
            color: white; font-family: 'Dancing Script'; font-size: 2.5rem;
            box-shadow: inset 0 0 50px rgba(0,0,0,0.3);
        }
        .left { left: 0; border-right: 2px solid gold; }
        .right { right: 0; border-left: 2px solid gold; }

        .open .left { transform: translateX(-100%); }
        .open .right { transform: translateX(100%); }

        /* Poem Container */
        .poem {
            text-align: left; font-size: 0.95rem; line-height: 1.7;
            max-height: 300px; overflow-y: auto; white-space: pre-line;
            padding: 15px; background: #fff5f6; border-radius: 15px;
        }

        .heart-icon { font-size: 70px; cursor: pointer; animation: beat 1s infinite; }
        @keyframes beat { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }
    </style>
</head>
<body>

<div class="bg"></div>

<div class="curtain-container" id="curtainLayer">
    <div class="curtain left">Bubu</div>
    <div class="curtain right">Dubu</div>
</div>

<div class="screen active" id="page0">
    <h1>For My Palak üíñ</h1>
    <p>Enter your name to unlock the magic</p>
    <input type="text" id="nameInput" placeholder="Enter name...">
    <button class="btn" onclick="unlockName()">Open üíå</button>
</div>

<div class="screen" id="page1">
    <h1>Sweet Messages üå∏</h1>
    <p id="msgDisplay">You're the most beautiful soul I've ever known.</p>
    <button class="btn" onclick="nextMsg()">Next Thought üí≠</button>
</div>

<div class="screen" id="page2">
    <h1>Cute Bunnies! üê∞</h1>
    <div style="font-size: 50px; margin-bottom: 15px;">üê∞üå∏üê∞</div>
    <p>They are throwing flowers and hearts at you! Can you feel the love?</p>
    <button class="btn" onclick="showPage(3)">Almost there... ‚ú®</button>
</div>

<div class="screen" id="page3">
    <h1>The Secret Key</h1>
    <p>Click the heart to enter the nickname</p>
    <div class="heart-icon" onclick="document.getElementById('pilluDiv').style.display='block'">‚ù§Ô∏è</div>
    <div id="pilluDiv" style="display:none; margin-top:15px;">
        <input type="password" id="pilluInput" placeholder="Password: pillu">
        <button class="btn" onclick="revealFinal()">Show Me Everything üíç</button>
    </div>
</div>

<div class="screen" id="page4">
    <h1>My Pillu ‚ù§Ô∏è</h1>
    <div class="poem">
        Pillu,
        tum sirf meri girlfriend nahi ho,
        tum wo ehsaas ho jo bina chuye bhi dil ko choo jaata hai.

        Jab duniya shor machati hai, tum meri khamoshi ban jaati ho, aur jab main tootne lagta hoon, tum meri saans ban ke mujhe sambhaal leti ho.

        Tumhari ek muskaan, meri hazaar thakaawaton ko hara deti hai. Tumhara ek ‚Äúsab theek ho jaayega‚Äù, meri har jung jeeta deta hai.

        Pata hai, pyaar kya hota hai? Pyaar wo hota hai jab tum meri kamiyon ko bhi apni duaon mein shamil kar leti ho. 

        Mujhe tumhara haath nahi chahiye sirf, mujhe tumhara saath chahiye. Wo saath jo har mod pe kahe‚Äî ‚ÄúMain hoon na, darr mat.‚Äù

        Pillu, tum wo sukoon ho jo bheed mein bhi akela mehsoos nahi hone deta. Tum wo ghar ho jahan laut ke aane ka mann karta hai chahe din kitna bhi bura kyun na ho.

        Gussa bhi, pyaar bhi, fight bhi, par chhod ke kabhi nahi jaaunga. 
        
        Pillu, tum meri aadat nahi ho, tum meri zarurat bhi nahi ho, tum meri choice ho‚Ä¶ roz, har din, baar-baar. ‚ù§Ô∏è
    </div>
    <button class="btn" style="margin-top:15px" onclick="location.reload()">I Love You! (Restart)</button>
</div>

<script>
    // Logic to switch screens
    function showPage(index) {
        // Hide all screens
        const screens = document.querySelectorAll('.screen');
        screens.forEach(s => s.classList.remove('active'));
        
        // Show the target screen
        const target = document.getElementById('page' + index);
        if (target) {
            target.classList.add('active');
        }
    }

    function unlockName() {
        const val = document.getElementById('nameInput').value.toLowerCase();
        if (val.includes('palak')) {
            confetti();
            showPage(1);
        } else {
            alert("Only Palak is allowed here! ‚ù§Ô∏è");
        }
    }

    const messages = [
        "Every smile of yours is my favorite view. ‚ú®",
        "I am so lucky to have you in my life. üíñ",
        "I promise to hold your hand forever. üíç",
        "You are my peaceful home in this loud world. üè†"
    ];
    let mIndex = 0;

    function nextMsg() {
        if (mIndex < messages.length) {
            document.getElementById('msgDisplay').innerText = messages[mIndex];
            mIndex++;
        } else {
            showPage(2);
        }
    }

    function revealFinal() {
        const p = document.getElementById('pilluInput').value.toLowerCase();
        if (p === 'pillu') {
            // 1. Show Curtains
            const cLayer = document.getElementById('curtainLayer');
            cLayer.style.display = 'flex';
            
            // 2. Animate Open
            setTimeout(() => {
                cLayer.classList.add('open');
                confetti({ particleCount: 200, spread: 100 });
            }, 100);

            // 3. Show Final Page behind curtains
            setTimeout(() => {
                showPage(4);
            }, 1000);
        } else {
            alert("Incorrect Secret Code! Hint: your cute nickname.");
        }
    }
</script>

</body>
</html>
